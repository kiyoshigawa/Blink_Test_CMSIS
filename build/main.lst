ARM GAS  /tmp/ccELBglf.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.delay,"ax",%progbits
  20              		.align	2
  21              		.global	delay
  22              		.code	16
  23              		.thumb_func
  25              	delay:
  26              	.LFB34:
  27              		.file 1 "src/main.c"
   1:src/main.c    **** //Include CMSIS definitions for everything
   2:src/main.c    **** #include "stm32f070x6.h"
   3:src/main.c    **** 
   4:src/main.c    **** void delay(uint32_t delay_cycles){
  28              		.loc 1 4 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  34 0000 82B0     		sub	sp, sp, #8
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              	.LBB2:
   5:src/main.c    ****   for(volatile int i=0; i<delay_cycles; i++){}
  38              		.loc 1 5 0
  39 0002 0023     		movs	r3, #0
  40 0004 0193     		str	r3, [sp, #4]
  41 0006 02E0     		b	.L2
  42              	.L3:
  43              		.loc 1 5 0 is_stmt 0 discriminator 3
  44 0008 019B     		ldr	r3, [sp, #4]
  45 000a 0133     		adds	r3, r3, #1
  46 000c 0193     		str	r3, [sp, #4]
  47              	.L2:
  48              		.loc 1 5 0 discriminator 1
  49 000e 019B     		ldr	r3, [sp, #4]
  50 0010 8342     		cmp	r3, r0
  51 0012 F9D3     		bcc	.L3
  52              	.LBE2:
   6:src/main.c    **** }
ARM GAS  /tmp/ccELBglf.s 			page 2


  53              		.loc 1 6 0 is_stmt 1
  54 0014 02B0     		add	sp, sp, #8
  55              		@ sp needed
  56 0016 7047     		bx	lr
  57              		.cfi_endproc
  58              	.LFE34:
  60              		.section	.text.main,"ax",%progbits
  61              		.align	2
  62              		.global	main
  63              		.code	16
  64              		.thumb_func
  66              	main:
  67              	.LFB35:
   7:src/main.c    **** 
   8:src/main.c    **** int main(void){
  68              		.loc 1 8 0
  69              		.cfi_startproc
  70              		@ Volatile: function does not return.
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73 0000 70B5     		push	{r4, r5, r6, lr}
  74              	.LCFI1:
  75              		.cfi_def_cfa_offset 16
  76              		.cfi_offset 4, -16
  77              		.cfi_offset 5, -12
  78              		.cfi_offset 6, -8
  79              		.cfi_offset 14, -4
   9:src/main.c    ****   //init things:
  10:src/main.c    **** 
  11:src/main.c    ****   //GPIO Init:
  12:src/main.c    ****   RCC->AHBENR |= RCC_AHBENR_GPIOAEN; //enable clock to GPIOA
  80              		.loc 1 12 0
  81 0002 114A     		ldr	r2, .L6
  82 0004 5369     		ldr	r3, [r2, #20]
  83 0006 8021     		movs	r1, #128
  84 0008 8902     		lsls	r1, r1, #10
  85 000a 0B43     		orrs	r3, r1
  86 000c 5361     		str	r3, [r2, #20]
  13:src/main.c    ****   GPIOA->MODER |= GPIO_MODER_MODER5_0; //set the mode to output for PA5.
  87              		.loc 1 13 0
  88 000e 9023     		movs	r3, #144
  89 0010 DB05     		lsls	r3, r3, #23
  90 0012 1A68     		ldr	r2, [r3]
  91 0014 8021     		movs	r1, #128
  92 0016 C900     		lsls	r1, r1, #3
  93 0018 0A43     		orrs	r2, r1
  94 001a 1A60     		str	r2, [r3]
  14:src/main.c    ****   GPIOA->OTYPER |= GPIO_OTYPER_OT_5; //set the type to output push-pull
  95              		.loc 1 14 0
  96 001c 5968     		ldr	r1, [r3, #4]
  97 001e 2022     		movs	r2, #32
  98 0020 0A43     		orrs	r2, r1
  99 0022 5A60     		str	r2, [r3, #4]
  15:src/main.c    ****   GPIOA->OSPEEDR = 0U; //set the whole GPIOA register to low speed.
 100              		.loc 1 15 0
 101 0024 0022     		movs	r2, #0
 102 0026 9A60     		str	r2, [r3, #8]
ARM GAS  /tmp/ccELBglf.s 			page 3


 103              	.L5:
  16:src/main.c    **** 
  17:src/main.c    ****   //loop:
  18:src/main.c    ****   while(1){
  19:src/main.c    ****     GPIOA->BSRR = GPIO_BSRR_BS_5;
 104              		.loc 1 19 0 discriminator 1
 105 0028 9025     		movs	r5, #144
 106 002a ED05     		lsls	r5, r5, #23
 107 002c 2023     		movs	r3, #32
 108 002e AB61     		str	r3, [r5, #24]
  20:src/main.c    ****     delay(1000000);
 109              		.loc 1 20 0 discriminator 1
 110 0030 064C     		ldr	r4, .L6+4
 111 0032 2000     		movs	r0, r4
 112 0034 FFF7FEFF 		bl	delay
 113              	.LVL1:
  21:src/main.c    ****     GPIOA->BSRR = GPIO_BSRR_BR_5;
 114              		.loc 1 21 0 discriminator 1
 115 0038 8023     		movs	r3, #128
 116 003a 9B03     		lsls	r3, r3, #14
 117 003c AB61     		str	r3, [r5, #24]
  22:src/main.c    ****     delay(1000000);
 118              		.loc 1 22 0 discriminator 1
 119 003e 2000     		movs	r0, r4
 120 0040 FFF7FEFF 		bl	delay
 121              	.LVL2:
 122 0044 F0E7     		b	.L5
 123              	.L7:
 124 0046 C046     		.align	2
 125              	.L6:
 126 0048 00100240 		.word	1073876992
 127 004c 40420F00 		.word	1000000
 128              		.cfi_endproc
 129              	.LFE35:
 131              		.section	.text.SystemInit,"ax",%progbits
 132              		.align	2
 133              		.global	SystemInit
 134              		.code	16
 135              		.thumb_func
 137              	SystemInit:
 138              	.LFB36:
  23:src/main.c    ****   }
  24:src/main.c    **** 
  25:src/main.c    ****   //return 0;
  26:src/main.c    **** }
  27:src/main.c    **** 
  28:src/main.c    **** void SystemInit(){
 139              		.loc 1 28 0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143              		@ link register save eliminated.
  29:src/main.c    ****   /* Reset the RCC clock configuration to the default reset state ------------*/
  30:src/main.c    ****   /* Set HSION bit */
  31:src/main.c    ****   RCC->CR |= (uint32_t)0x00000001U;
 144              		.loc 1 31 0
 145 0000 134B     		ldr	r3, .L9
ARM GAS  /tmp/ccELBglf.s 			page 4


 146 0002 1A68     		ldr	r2, [r3]
 147 0004 0121     		movs	r1, #1
 148 0006 0A43     		orrs	r2, r1
 149 0008 1A60     		str	r2, [r3]
  32:src/main.c    **** 
  33:src/main.c    ****   /* Reset SW[1:0], HPRE[3:0], PPRE[2:0], ADCPRE, MCOSEL[2:0], MCOPRE[2:0] and PLLNODIV bits */
  34:src/main.c    ****   RCC->CFGR &= (uint32_t)0x08FFB80CU;
 150              		.loc 1 34 0
 151 000a 5868     		ldr	r0, [r3, #4]
 152 000c 114A     		ldr	r2, .L9+4
 153 000e 0240     		ands	r2, r0
 154 0010 5A60     		str	r2, [r3, #4]
  35:src/main.c    ****   
  36:src/main.c    ****   /* Reset HSEON, CSSON and PLLON bits */
  37:src/main.c    ****   RCC->CR &= (uint32_t)0xFEF6FFFFU;
 155              		.loc 1 37 0
 156 0012 1868     		ldr	r0, [r3]
 157 0014 104A     		ldr	r2, .L9+8
 158 0016 0240     		ands	r2, r0
 159 0018 1A60     		str	r2, [r3]
  38:src/main.c    **** 
  39:src/main.c    ****   /* Reset HSEBYP bit */
  40:src/main.c    ****   RCC->CR &= (uint32_t)0xFFFBFFFFU;
 160              		.loc 1 40 0
 161 001a 1868     		ldr	r0, [r3]
 162 001c 0F4A     		ldr	r2, .L9+12
 163 001e 0240     		ands	r2, r0
 164 0020 1A60     		str	r2, [r3]
  41:src/main.c    **** 
  42:src/main.c    ****   /* Reset PLLSRC, PLLXTPRE and PLLMUL[3:0] bits */
  43:src/main.c    ****   RCC->CFGR &= (uint32_t)0xFFC0FFFFU;
 165              		.loc 1 43 0
 166 0022 5868     		ldr	r0, [r3, #4]
 167 0024 0E4A     		ldr	r2, .L9+16
 168 0026 0240     		ands	r2, r0
 169 0028 5A60     		str	r2, [r3, #4]
  44:src/main.c    **** 
  45:src/main.c    ****   /* Reset PREDIV[3:0] bits */
  46:src/main.c    ****   RCC->CFGR2 &= (uint32_t)0xFFFFFFF0U;
 170              		.loc 1 46 0
 171 002a DA6A     		ldr	r2, [r3, #44]
 172 002c 0F20     		movs	r0, #15
 173 002e 8243     		bics	r2, r0
 174 0030 DA62     		str	r2, [r3, #44]
  47:src/main.c    ****   
  48:src/main.c    ****   /* Reset USART1SW[1:0], I2C1SW, USBSW and ADCSW bits */
  49:src/main.c    ****   RCC->CFGR3 &= (uint32_t)0xFFFFFE6CU;
 175              		.loc 1 49 0
 176 0032 186B     		ldr	r0, [r3, #48]
 177 0034 0B4A     		ldr	r2, .L9+20
 178 0036 0240     		ands	r2, r0
 179 0038 1A63     		str	r2, [r3, #48]
  50:src/main.c    **** 
  51:src/main.c    ****   /* Set default USB clock to PLLCLK, since there is no HSI48 */
  52:src/main.c    ****   RCC->CFGR3 |= (uint32_t)0x00000080U;  
 180              		.loc 1 52 0
 181 003a 186B     		ldr	r0, [r3, #48]
ARM GAS  /tmp/ccELBglf.s 			page 5


 182 003c 8022     		movs	r2, #128
 183 003e 0243     		orrs	r2, r0
 184 0040 1A63     		str	r2, [r3, #48]
  53:src/main.c    **** 
  54:src/main.c    ****   /* Reset HSI14 bit */
  55:src/main.c    ****   RCC->CR2 &= (uint32_t)0xFFFFFFFEU;
 185              		.loc 1 55 0
 186 0042 5A6B     		ldr	r2, [r3, #52]
 187 0044 8A43     		bics	r2, r1
 188 0046 5A63     		str	r2, [r3, #52]
  56:src/main.c    **** 
  57:src/main.c    ****   /* Disable all interrupts */
  58:src/main.c    ****   RCC->CIR = 0x00000000U;
 189              		.loc 1 58 0
 190 0048 0022     		movs	r2, #0
 191 004a 9A60     		str	r2, [r3, #8]
  59:src/main.c    **** }...
 192              		.loc 1 59 0
 193              		@ sp needed
 194 004c 7047     		bx	lr
 195              	.L10:
 196 004e C046     		.align	2
 197              	.L9:
 198 0050 00100240 		.word	1073876992
 199 0054 0CB8FF08 		.word	150976524
 200 0058 FFFFF6FE 		.word	-17367041
 201 005c FFFFFBFF 		.word	-262145
 202 0060 FFFFC0FF 		.word	-4128769
 203 0064 6CFEFFFF 		.word	-404
 204              		.cfi_endproc
 205              	.LFE36:
 207              		.text
 208              	.Letext0:
 209              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 210              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 211              		.file 4 "drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f070x6.h"
ARM GAS  /tmp/ccELBglf.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccELBglf.s:20     .text.delay:0000000000000000 $t
     /tmp/ccELBglf.s:25     .text.delay:0000000000000000 delay
     /tmp/ccELBglf.s:61     .text.main:0000000000000000 $t
     /tmp/ccELBglf.s:66     .text.main:0000000000000000 main
     /tmp/ccELBglf.s:126    .text.main:0000000000000048 $d
     /tmp/ccELBglf.s:132    .text.SystemInit:0000000000000000 $t
     /tmp/ccELBglf.s:137    .text.SystemInit:0000000000000000 SystemInit
     /tmp/ccELBglf.s:198    .text.SystemInit:0000000000000050 $d
                     .debug_frame:0000000000000010 $d

NO UNDEFINED SYMBOLS
